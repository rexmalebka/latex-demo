name: Linting Latex

on:
  pull_request:
    branches: [ main ]
    paths:
      - "src/**"
      - "entrypoint.pdf"

jobs:
  latex_linting:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo
        if: contains( github.head_ref, 'automation') == false
        uses: actions/checkout@v2
        if: contains( github.head_ref, 'automation')
        runs: true
      - name: cleaning
        if: contains( github.head_ref, 'automation') == false
        run: |
          source automation
          clean
        if: contains( github.head_ref, 'automation')
        runs: true
      - name: linting latex
        uses: j2kun/chktex-action@1.0.3
        if: contains( github.head_ref, 'automation')
        runs: true
